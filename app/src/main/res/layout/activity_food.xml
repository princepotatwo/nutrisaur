<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:id="@+id/main"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@color/background_light">

    <androidx.core.widget.NestedScrollView
        android:layout_width="0dp"
        android:layout_height="0dp"
    android:paddingBottom="96dp"
    android:clipToPadding="false"
        app:layout_constraintTop_toTopOf="parent"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintStart_toStartOf="parent"
    app:layout_constraintEnd_toEndOf="parent">

<LinearLayout
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:orientation="vertical"
    android:background="@color/background_light"
    android:padding="24dp">

    <!-- Top Header -->
    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal"
        android:padding="16dp"
        android:background="@color/white"
        android:elevation="4dp"
        android:layout_marginBottom="24dp">

        <TextView
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:text="AI Food Recommendations"
            android:textSize="20sp"
            android:textStyle="bold"
            android:textColor="@color/primary_color"
            android:fontFamily="sans-serif-medium"
            android:gravity="center" />

    </LinearLayout>

    <!-- Nutrition Insights Card -->
    <include
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        layout="@layout/nutrition_insights_card"
        android:layout_marginBottom="24dp" />

    <!-- Food Recommendations Container Card -->
    <androidx.cardview.widget.CardView
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_marginBottom="24dp"
        app:cardCornerRadius="16dp"
        app:cardElevation="12dp"
        app:cardBackgroundColor="@color/card_background">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:padding="20dp">

            <!-- Card Header -->
            <TextView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Swipe to reveal the personalized food recommended for you"
                        android:textSize="20sp"
                android:textStyle="bold"
                android:textColor="#1A1A1A"
                        android:fontFamily="sans-serif-medium"
                android:gravity="center"
                android:layout_marginBottom="16dp" />



            <!-- Note about serving size and AI accuracy -->
            <TextView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Note: All nutritional information is for 1 serving. AI-generated recommendations may have accuracy variations."
                android:textSize="12sp"
                android:textColor="@color/text_secondary"
                android:fontFamily="sans-serif"
                android:gravity="center"
                android:layout_marginBottom="20dp"
                android:alpha="0.8" />

            <!-- ViewPager2 Container -->
            <FrameLayout
                android:layout_width="match_parent"
                android:layout_height="520dp"
                android:background="@color/white"
                android:layout_marginStart="-20dp"
                android:layout_marginEnd="-20dp"
                android:layout_marginBottom="-20dp">

                <androidx.viewpager2.widget.ViewPager2
                    android:id="@+id/view_pager"
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:padding="12dp"
                    android:paddingBottom="24dp" />

            </FrameLayout>

        </LinearLayout>

    </androidx.cardview.widget.CardView>

    <!-- Information Section -->
    <androidx.cardview.widget.CardView
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_marginBottom="24dp"
        app:cardCornerRadius="16dp"
        app:cardElevation="4dp"
        app:cardBackgroundColor="@color/card_background">
        
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:padding="20dp">
            
            <!-- Section Header -->
            <TextView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="How It Works"
                android:textSize="20sp"
                    android:textStyle="bold"
                android:textColor="#1A1A1A"
                android:fontFamily="sans-serif-medium"
                android:layout_marginBottom="20dp" />

            <!-- Daily Nutrition Targets Info -->
            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:layout_marginBottom="20dp">
                
                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Daily Nutrition Targets"
                    android:textSize="16sp"
                    android:textStyle="bold"
                    android:textColor="@color/primary_color"
                    android:fontFamily="sans-serif-medium"
                    android:layout_marginBottom="8dp" />
                
                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Your daily nutrition targets are calculated using the Mifflin-St Jeor Equation, which considers your age, weight, height, and activity level. This formula is widely used by nutritionists and healthcare professionals to determine your body's energy needs.\n\n• Calories: Based on your Basal Metabolic Rate (BMR) plus activity level\n• Protein: 1.2g per kg of body weight for muscle health and recovery\n• Fat: 25% of your daily calories for energy and vitamin absorption\n• Carbs: Remaining calories after protein and fat needs are met"
                    android:textSize="14sp"
                    android:textColor="@color/text_primary"
                    android:fontFamily="sans-serif"
                    android:lineSpacingExtra="2dp" />

            </LinearLayout>
            
            <!-- AI Food Recommendations Info -->
            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical">

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="AI Food Recommendations"
                    android:textSize="16sp"
                        android:textStyle="bold"
                    android:textColor="@color/primary_color"
                    android:fontFamily="sans-serif-medium"
                        android:layout_marginBottom="8dp" />
                    
                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                    android:text="Our AI uses Google's Gemini 2.0 model to analyze your personal health profile and generate personalized Filipino food recommendations. The AI considers:\n\n• Your BMI status and health conditions\n• Age-appropriate nutrition needs\n• Dietary restrictions and allergies\n• Local Filipino ingredients and cooking methods\n• Budget and availability in your area\n• Cultural preferences and traditional dishes\n\nThe AI continuously learns from your preferences and provides new, diverse recommendations each time you swipe, ensuring you never run out of healthy, personalized meal options."
                        android:textSize="14sp"
                    android:textColor="@color/text_primary"
                    android:fontFamily="sans-serif"
                    android:lineSpacingExtra="2dp" />
                    
                </LinearLayout>

        </LinearLayout>

    </androidx.cardview.widget.CardView>

</LinearLayout>
</androidx.core.widget.NestedScrollView>

<!-- Glassy Bottom Nav Bar (exact copy from MainActivity) -->
    <androidx.cardview.widget.CardView
        android:id="@+id/bottom_nav"
        android:layout_width="0dp"
        android:layout_height="72dp"
        app:cardCornerRadius="36dp"
        app:cardElevation="16dp"
        app:cardBackgroundColor="#FFFFFFFF"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintEnd_toEndOf="parent"
        android:layout_marginStart="32dp"
        android:layout_marginEnd="32dp"
        android:layout_marginBottom="32dp">
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:orientation="horizontal"
            android:gravity="center"
            android:weightSum="4">
            <LinearLayout
                android:id="@+id/nav_home"
                android:layout_width="0dp"
                android:layout_height="match_parent"
                android:layout_weight="1"
                android:gravity="center">
                <ImageView
                    android:layout_width="32dp"
                    android:layout_height="32dp"
                    android:src="@drawable/ic_home"
                app:tint="#9CA3AF" />
            </LinearLayout>
            <LinearLayout
                android:id="@+id/nav_food"
                android:layout_width="0dp"
                android:layout_height="match_parent"
                android:layout_weight="1"
                android:gravity="center">
                <ImageView
                    android:layout_width="32dp"
                    android:layout_height="32dp"
                    android:src="@drawable/ic_plate_simple"
                app:tint="#10B981" />
            </LinearLayout>
            <LinearLayout
                android:id="@+id/nav_favorites"
                android:layout_width="0dp"
                android:layout_height="match_parent"
                android:layout_weight="1"
                android:gravity="center">
                <ImageView
                    android:layout_width="32dp"
                    android:layout_height="32dp"
                    android:src="@drawable/ic_heart_simple"
                app:tint="#9CA3AF" />
            </LinearLayout>
            <LinearLayout
                android:id="@+id/nav_account"
                android:layout_width="0dp"
                android:layout_height="match_parent"
                android:layout_weight="1"
                android:gravity="center">
                <ImageView
                    android:layout_width="32dp"
                    android:layout_height="32dp"
                    android:src="@drawable/ic_person"
                app:tint="#9CA3AF" />
        </LinearLayout>
        </LinearLayout>
    </androidx.cardview.widget.CardView>

</androidx.constraintlayout.widget.ConstraintLayout> 