 🔍 Dashboard Metrics - Using donut chart logic:
   - Total Screened: 14
   - Severely Underweight (WFA): 2
   - Severely Stunted (HFA): 4
   - Severely Wasted (WFH): 2
 🔍 WFA Classifications: Object
 🔍 HFA Classifications: Object
 🔍 WFH Classifications: Object
 🛑 Disabling 3-second refresh...
 ✅ 3-second refresh blocked
 📊 Nutritional Statistics loaded: Object
 🌍 Pre-loaded Geographic Distribution Data: Array(0)
 🛑 Disabling 3-second refresh system...
 ✅ 3-second refresh system disabled
 DOM Content Loaded - Initializing WHO dropdown
 📅 Set from date to: 2025-01-01
 📅 Set to date to: 2025-10-09
 📊 Updating Trends Chart...
 📅 Date inputs found: Object
 📅 Current date values: Object
 🔍 getAllActiveFilters - Raw values: Object
 🔍 Final filter value: 
 📊 Trends Chart Filters: Object
 📊 Fetching trends data from: /api/DatabaseAPI.php?action=get_trends_chart_data&from_date=2025-01-01&to_date=2025-10-09&barangay=&who_standard=weight-for-age
 📊 Updating severe cases list...
 📊 Severe cases function called with barangay: 
 📊 Severe cases list element found: 
 📊 Severe cases - WHO Standard Select element: 
 📊 Severe cases - WHO Standard value: weight-for-age
 📊 Severe cases - Dropdown value at time of call: weight-for-age
 📊 Fetching severe cases data from: /api/DatabaseAPI.php?action=get_severe_cases&barangay=&who_standard=weight-for-age
 WHO dropdown found, setting up event listener
 🔄 Starting WHO standard change handler...
 📊 WHO Standard selected: weight-for-age
 📊 Dropdown element found: true
 📊 Dropdown value: weight-for-age
 🔍 getAllActiveFilters - Raw values: Object
 🔍 Final filter value: 
 📡 Fetching WHO data with active filters...
 📊 Active filters: Object
 Fetching WHO data for: Object
 API URL (bulk): /api/DatabaseAPI.php?action=get_all_who_classifications_bulk&barangay=&who_standard=weight-for-age
 🚀 Initializing municipality and barangay dropdown functionality...
 🚀 Initializing modern mobile top navigation...
 📱 Desktop navbar exists: true
 📱 Initializing mobile dropdown functionality...
 📱 Found select headers: 2
 📱 Found dropdown contents: 2
 📱 Found option items: 247
 ✅ Mobile dropdown functionality initialized
 ✅ Modern mobile top navigation system initialized successfully
 🚀 Initializing event-driven dashboard...
 🔄 Connecting to event stream: events_api.php?action=event_stream&barangay=
 ✅ Event-driven dashboard initialized
 🚀 Starting event-driven dashboard system...
 🔄 Connecting to event stream: events_api.php?action=event_stream&barangay=
 ✅ Event-driven system active - no more 3-second polling!
 📊 Trends API response: Object
 📊 Chart data analysis: Object
 No chartable datasets available - showing message with user count
 Severe cases data received: Object
 Found 2 severe cases
 🔍 Severe case CSS class: severely-underweight for classification: Severely Underweight
 🔍 Severe case CSS class: severely-underweight for classification: Severely Underweight
 ✅ Severe cases list updated successfully with 2 cases
dash:1 EventSource's response has a MIME type ("text/html") that is not "text/event-stream". Aborting the connection.
 ❌ Community event stream disconnected
 🔄 Reconnecting community event stream... (1/5)
dash:1 EventSource's response has a MIME type ("text/html") that is not "text/event-stream". Aborting the connection.
 ❌ Community event stream disconnected
 🔄 Reconnecting community event stream... (2/5)
 Bulk API Response: Object
 Mapping weight-for-age to weight_for_age: Object
 Classification values: Array(6)
 Calculated total: 6
 Original total_users: 14
 Extracted weight-for-age data: Object
 Processed data for donut chart: Object
 📊 Data received for chart update: Object
 🎨 Updating chart...
 WHO Chart Update - Data received: Object
 Data type: object
 Data classifications: Object
 Data total: 6
 Chart elements found:
   - chartBg (risk-chart-bg): 
   - centerText (risk-center-text): 
   - segments (risk-segments): 
 Processing classifications: Object
 Classifications keys: Array(6)
 Classifications values: Array(6)
 Total users: 6
 Has data (non-zero counts): true
 Chart segments: Array(3)
 Chart segments length: 3
 Chart segments details: Array(3)
 Creating gradient: conic-gradient(#E91E63 0% 33.33333333333333%, #FFC107 33.33333333333333% 66.66666666666666%, #4CAF50 66.66666666666666% 99.99999999999999%)
 Chart background set to: conic-gradient(rgb(233, 30, 99) 0%, rgb(233, 30, 99) 33.3333%, rgb(255, 193, 7) 33.3333%, rgb(255, 193, 7) 66.6667%, rgb(76, 175, 80) 66.6667%, rgb(76, 175, 80) 100%)
 Computed background: rgba(0, 0, 0, 0) conic-gradient(rgb(233, 30, 99) 0%, rgb(233, 30, 99) 33.3333%, rgb(255, 193, 7) 33.3333%, rgb(255, 193, 7) 66.6667%, rgb(76, 175, 80) 66.6667%, rgb(76, 175, 80) 100%) repeat scroll 0% 0% / auto padding-box border-box
 Computed opacity: 1
 Element dimensions: Object
 WHO chart updated successfully
 🎨 Updating age classification chart...
 📊 Updating Age Classification Line Chart...
 📊 Using WHO Standard: weight-for-age
 📊 Using Barangay: 
 📊 Fetching age classification data from: /api/DatabaseAPI.php?action=get_age_classification_line_chart&who_standard=weight-for-age&barangay=
 📍 Found 13 municipality options
 📍 Found 234 barangay options
 ✅ Municipality and barangay dropdown functionality initialized
 📊 Age classification API response: Object
 📊 Age Classification Line Chart Data: Object
 📊 Creating Chart.js line chart with data: Object
 ✅ Age Classification Line Chart created successfully
 🎨 Updating trends chart...
 📊 Updating Trends Chart...
 📅 Date inputs found: Object
 📅 Current date values: Object
 🔍 getAllActiveFilters - Raw values: Object
 🔍 Final filter value: 
 📊 Trends Chart Filters: Object
 📊 Fetching trends data from: /api/DatabaseAPI.php?action=get_trends_chart_data&from_date=2025-01-01&to_date=2025-10-09&barangay=&who_standard=weight-for-age
 📊 Trends API response: Object
 📊 Chart data analysis: Object
 No chartable datasets available - showing message with user count
 🎨 Updating severe cases list...
 📊 WHO Standard before severe cases call: weight-for-age
 📊 Dropdown value before severe cases call: weight-for-age
 📊 Updating severe cases list...
 📊 Severe cases function called with barangay: 
 📊 Severe cases list element found: 
 📊 Severe cases - WHO Standard Select element: 
 📊 Severe cases - WHO Standard value: weight-for-age
 📊 Severe cases - Dropdown value at time of call: weight-for-age
 📊 Fetching severe cases data from: /api/DatabaseAPI.php?action=get_severe_cases&barangay=&who_standard=weight-for-age
 🔍 Card Debug - Checking card elements:
 Card Container: 
 Number of cards found: 4
 Card 1: 
 Card 1 display: flex
 Card 1 visibility: visible
 Card 1 opacity: 1
 Card 2: 
 Card 2 display: flex
 Card 2 visibility: visible
 Card 2 opacity: 1
 Card 3: 
 Card 3 display: flex
 Card 3 visibility: visible
 Card 3 opacity: 1
 Card 4: 
 Card 4 display: flex
 Card 4 visibility: visible
 Card 4 opacity: 1
 🔍 Initial Dashboard Metrics (Page Load):
   - Total Screened: 14
   - High Risk (Severely Underweight): 2
   - SAM Cases (Severely Stunted): 4
   - Critical MUAC (Severely Wasted): 2
 Severe cases data received: Object
 Found 2 severe cases
 🔍 Severe case CSS class: severely-underweight for classification: Severely Underweight
 🔍 Severe case CSS class: severely-underweight for classification: Severely Underweight
 ✅ Severe cases list updated successfully with 2 cases
 ✅ Chart update completed
 🏁 WHO classification loading completed
 📊 Loading initial trends chart...
 📊 updateTrendsChart function exists: function
 📊 Updating Trends Chart...
 📅 Date inputs found: Object
 📅 Current date values: Object
 🔍 getAllActiveFilters - Raw values: Object
dash:8261 🔍 Final filter value: 
dash:10182 📊 Trends Chart Filters: Object
dash:10192 📊 Fetching trends data from: /api/DatabaseAPI.php?action=get_trends_chart_data&from_date=2025-01-01&to_date=2025-10-09&barangay=&who_standard=weight-for-age
dash:10197 📊 Trends API response: Object
dash:10209 📊 Chart data analysis: Object
dash:10224 No chartable datasets available - showing message with user count
dash:11349 📊 Trends chart loaded successfully
dash:11356 📊 Loading initial age classification chart...
dash:10406 📊 Updating Age Classification Line Chart...
dash:10434 📊 Using WHO Standard: weight-for-age
dash:10435 📊 Using Barangay: 
dash:10439 📊 Fetching age classification data from: /api/DatabaseAPI.php?action=get_age_classification_line_chart&who_standard=weight-for-age&barangay=
dash:10444 📊 Age classification API response: Object
dash:10462 📊 Age Classification Line Chart Data: Object
dash:10475 📊 Creating Chart.js line chart with data: Object
dash:10612 ✅ Age Classification Line Chart created successfully
dash:11361 🔄 Loading initial dashboard metrics and geographic distribution...
dash:8352 🔄 updateCommunityMetrics called with barangay: 
dash:11365 🔄 Loading barangay distribution data...
dash:10927 Fetching barangay distribution data for: Object
dash:10930 Barangay API URL: /api/DatabaseAPI.php?action=get_barangay_distribution_bulk&barangay=
dash:10939 Barangay API Response: Object
dash:11043 Updating barangay distribution display: Object
dash:11370 🔄 Loading gender distribution data...
dash:10961 Fetching gender distribution data for: Object
dash:10964 Gender API URL: /api/DatabaseAPI.php?action=get_gender_distribution_bulk&barangay=
dash_fix_3second.js:14 🛑 3-second refresh disabled - using event-driven system instead
dash:8374 🔄 Starting community metrics update...
dash:9507 Fetching from centralized DatabaseAPI: https://nutrisaur-production.up.railway.app/api/dashboard_assessment_stats.php
CommunityEventDashboardManager.js:21 🔄 Connecting to event stream: events_api.php?action=event_stream&barangay=
dash:10973 Gender API Response: Object
dash:10993 Updating gender distribution display: Object
dash:11375 🌍 Loading geographic distribution with pre-loaded data...
dash:11380 🌍 No pre-loaded geographic data available
dash:8645 🌍 updateGeographicChartDisplay called with data: Array(0)
dash:8648 ❌ Geographic chart container not found!
updateGeographicChartDisplay @ dash:8648
dash_fix_3second.js:61 ⚠️ Event system not working, enabling fallback polling (30 seconds)
dash:9519 DatabaseAPI response for dashboard_assessment_stats : Object
dash:9529 Returning data: Object
dash:8386 📊 Community Metrics Data: Object
dash:8387 📊 Data type: object
dash:8388 📊 Data keys: Array(2)
dash:8395 Total Screened Element: <div class=​"metric-value" id=​"community-total-screened">​14​</div>​flex
dash:8396 Screened Change Element: <div class=​"metric-change" id=​"community-screened-change">​14​</div>​
dash:8397 Total Users: 14
dash:8398 Recent Registrations: 14
dash:8404 📊 Total screened element: <div class=​"metric-value" id=​"community-total-screened">​14​</div>​flex
dash:8405 📊 Total screened from API (data.data.total_screened): 14
dash:8406 📊 Total users from API (data.data.total_users): undefined
dash:8407 📊 Total users from API (data.total_users): undefined
dash:8408 📊 Total users from API (data.processed_users): undefined
dash:8409 📊 Final total users value: 14
dash:8412 📊 Setting total screened to: 14
dash:8416 📊 Setting screened change to: 14
dash:8425 📊 Severely cases will be updated by WHO classification data
dash:1 EventSource's response has a MIME type ("text/html") that is not "text/event-stream". Aborting the connection.
CommunityEventDashboardManager.js:42 ❌ Community event stream disconnected
CommunityEventDashboardManager.js:218 🔄 Reconnecting community event stream... (3/5)
CommunityEventDashboardManager.js:21 🔄 Connecting to event stream: events_api.php?action=event_stream&barangay=
dash:1 EventSource's response has a MIME type ("text/html") that is not "text/event-stream". Aborting the connection.
CommunityEventDashboardManager.js:42 ❌ Community event stream disconnected
CommunityEventDashboardManager.js:218 🔄 Reconnecting community event stream... (4/5)
dash:8369 🔧 Auto-resetting stuck updateInProgress flag
CommunityEventDashboardManager.js:21 🔄 Connecting to event stream: events_api.php?action=event_stream&barangay=
dash:1 EventSource's response has a MIME type ("text/html") that is not "text/event-stream". Aborting the connection.
CommunityEventDashboardManager.js:42 ❌ Community event stream disconnected
CommunityEventDashboardManager.js:218 🔄 Reconnecting community event stream... (5/5)
dash:12587 ▶️ Resuming real-time updates (page visible)
dash_fix_3second.js:14 🛑 3-second refresh disabled - using event-driven system instead
CommunityEventDashboardManager.js:21 🔄 Connecting to event stream: events_api.php?action=event_stream&barangay=
dash:1 EventSource's response has a MIME type ("text/html") that is not "text/event-stream". Aborting the connection.
CommunityEventDashboardManager.js:42 ❌ Community event stream disconnected
CommunityEventDashboardManager.js:224 ❌ Max reconnection attempts reached
reconnect @ CommunityEventDashboardManager.js:224
