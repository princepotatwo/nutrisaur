RewriteEngine On

# Enable API endpoints
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^api/(.*)\.php$ api/$1.php [L]

# Ensure PHP files are executed
<Files "*.php">
    SetHandler application/x-httpd-php
</Files>

# Set proper content type for API responses
<Files "api/*.php">
    Header set Content-Type "application/json"
</Files>

# Enable CORS for API endpoints
<Files "api/*.php">
    Header set Access-Control-Allow-Origin "*"
    Header set Access-Control-Allow-Methods "GET, POST, OPTIONS"
    Header set Access-Control-Allow-Headers "Content-Type"
</Files>
